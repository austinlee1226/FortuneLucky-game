<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>å‰é‹è‡¨é–€ - 2026 ä½ çš„é–‹é‹ç±¤è©©</title>
    <style>
        :root { --bg-red: #b71c1c; --gold: #ffd700; --paper: #fffdf5; --win-color: #ffeb3b; }
        * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; }
        body { background-color: #1a1a1a; margin: 0; display: flex; justify-content: center; align-items: center; height: 100dvh; font-family: -apple-system, "Microsoft JhengHei", sans-serif; overflow: hidden; }
        .game-wrapper { position: relative; background-color: var(--bg-red); width: 100%; max-width: 430px; height: 100%; display: flex; flex-direction: column; align-items: center; padding: 10px; box-shadow: 0 0 50px rgba(0,0,0,0.8); }
        
        .header-section { width: 100%; height: 15dvh; display: flex; flex-direction: column; align-items: center; justify-content: center; z-index: 10; }
        .title-group { display: grid; place-items: center; width: 100%; height: 60px; position: relative; }
        .title { grid-area: 1 / 1; color: var(--gold); font-size: 1.8rem; letter-spacing: 5px; margin: 0; z-index: 10; transition: opacity 0.3s; }
        .win-banner { grid-area: 1 / 1; transform: scale(0); background: linear-gradient(90deg, transparent, #ff5722, #ff9800, #ff5722, transparent); color: var(--win-color); width: 100%; padding: 10px 0; font-size: 1.6rem; font-weight: 900; text-align: center; z-index: 20; opacity: 0; transition: all 0.5s cubic-bezier(0.34, 1.56, 0.64, 1); }
        .win-banner.show { transform: scale(1); opacity: 1; animation: winPulse 0.8s infinite alternate; }
        .reward-hint { color: white; font-size: 0.85rem; margin-top: 5px; opacity: 0.8; letter-spacing: 1px; }

        .content-section { position: relative; width: 100%; height: 65dvh; display: flex; flex-direction: column; justify-content: center; align-items: center; z-index: 50; }
        .cat-visual { width: 85px; transition: opacity 0.3s; margin-bottom: 5px; }
        .cat-visual.fade { opacity: 0.05; }
        .loading-hint { color: white; font-size: 14px; letter-spacing: 2px; opacity: 0; height: 20px; }
        .pulse-text { animation: textFade 1s infinite alternate; }

        .scroll-container { position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%) scale(0); width: 92%; height: 95%; background: var(--paper); border: 5px solid #5d4037; border-radius: 12px; padding: 20px 18px; box-shadow: 0 15px 45px rgba(0,0,0,0.7); opacity: 0; z-index: 100; transition: all 0.5s cubic-bezier(0.34, 1.56, 0.64, 1); overflow: hidden; display: flex; flex-direction: column; justify-content: flex-start; }
        .scroll-container.active { transform: translate(-50%, -50%) scale(1); opacity: 1; }
        .fade-in { opacity: 0; transition: opacity 0.4s ease; }
        .fade-in.visible { opacity: 1; }
        
        .res-header-group { display: flex; flex-direction: column; align-items: center; border-bottom: 2px solid #b71c1c; padding-bottom: 4px; margin-bottom: 10px; flex-shrink: 0; }
        .star-rating { color: var(--gold); font-size: 1.15rem; letter-spacing: 4px; line-height: 1; min-height: 1.15rem; }
        .star-rating span { display: inline-block; transform: scale(0); transition: transform 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275); }
        .star-rating span.pop { transform: scale(1); }
        .fortune-header { color: #b71c1c; font-size: 2rem; margin: 0; line-height: 1.1; }
        .fortune-intro { font-size: 0.9rem; color: #333; line-height: 1.4; margin: 15px 0; font-weight: bold; flex-shrink: 0; }
        .details-list { text-align: left; padding: 0; list-style: none; margin: 0; flex-grow: 1; overflow-y: auto; }
        .details-list li { padding: 8px 0; border-bottom: 1px dashed #d7ccc8; font-size: 0.95rem; color: #444; opacity: 0; transform: translateY(10px); transition: all 0.3s ease; }
        .details-list li.reveal { opacity: 1; transform: translateY(0); }

        .footer-section { width: 100%; height: 120px; display: flex; flex-direction: column; align-items: center; justify-content: flex-start; z-index: 1000; }
        .draw-btn-large { background: linear-gradient(180deg, #ffeb3b, #fbc02d); color: #b71c1c; border: none; padding: 16px 60px; font-size: 1.5rem; font-weight: 900; border-radius: 50px; box-shadow: 0 6px 0 #795548; cursor: pointer; }
        .button-group { display: flex; gap: 15px; width: 90%; justify-content: center; opacity: 0; transform: translateY(20px); pointer-events: none; }
        .button-group.show { opacity: 1; transform: translateY(0); pointer-events: auto; transition: opacity 0.5s ease, transform 0.5s ease; display: flex !important; }
        .button-group:not(.show) { opacity: 0; display: none !important; transition: none !important; }
        .btn-common { flex: 1; background: linear-gradient(180deg, #ffeb3b, #fbc02d); color: #b71c1c; border: none; padding: 12px 0; font-size: 1.1rem; font-weight: 900; border-radius: 30px; box-shadow: 0 4px 0 #795548; cursor: pointer; }
        .btn-common:active { transform: translateY(2px); box-shadow: 0 2px 0 #795548; }
        .single-btn #share-btn-text { display: none !important; }
        .single-btn .btn-common { flex: 0 1 220px; }
        .hidden { display: none !important; }
        .footer-hint { color: white; font-size: 0.85rem; margin-top: 10px; opacity: 1; }

        @keyframes winPulse { from { transform: scale(1); } to { transform: scale(1.05); } }
        @keyframes textFade { from { opacity: 0.3; } to { opacity: 1; } }
        .shaking { animation: shakeEffect 0.15s infinite; }
        @keyframes shakeEffect { 0%, 100% { transform: rotate(0deg) translateY(0); } 25% { transform: rotate(7deg) translateY(-4px); } 75% { transform: rotate(-7deg) translateY(-4px); } }
    </style>
</head>
<body>
<div class="game-wrapper">
    <div class="header-section">
        <div class="title-group"><h1 id="main-title" class="title">å‰é‹è‡¨é–€</h1><div id="win-banner" class="win-banner">æ­å–œä¸­ç</div></div>
        <p id="reward-text" class="reward-hint">å‘½ä¸­è¶…å¤§å‰å³å¯ç²å¾—ç¦®å·çå‹µ</p>
    </div>
    <div class="content-section">
        <div id="cat-actor" class="cat-visual"><div style="font-size: 70px; text-align: center;">ğŸ±</div></div>
        <div id="loading-hint" class="loading-hint">èª å¿ƒç¥ˆç¦ä¸­...</div>
        <div id="scroll" class="scroll-container">
            <div class="res-header-group"><div id="res-stars" class="star-rating"></div><h2 id="res-type" class="fortune-header fade-in"></h2></div>
            <p id="res-intro" class="fortune-intro fade-in"></p>
            <ul id="res-details" class="details-list"></ul>
        </div>
    </div>
    <div class="footer-section">
        <button id="init-draw-btn" class="draw-btn-large" onclick="startDrawing()">ç«‹å³æŠ½å¥½é‹</button>
        <div id="after-draw-group" class="button-group">
            <button class="btn-common" onclick="resetUIAndRedraw()">å†æŠ½ä¸€æ¬¡</button>
            <button id="share-btn-text" class="btn-common" onclick="shareToLine()">åˆ†äº«å¥½é‹</button>
        </div>
        <p id="footer-hint-text" class="footer-hint">ä»Šæ—¥é‹å‹¢å¥½ä¸å¥½ï¼Œä¸€æŠ½å°±çŸ¥é“</p>
    </div>
</div>
<script>
    const fortuneData = [
        { id: 1, star: 5, type: "è¶…å¤§å‰", intro: "èƒ½é‡è™•æ–¼ä¸Šå‡æœŸï¼Œå„é …è³‡æºå·²åˆ°ä½ã€‚å»ºè­°ä¿æŒè‡ªä¿¡ï¼Œé †è‘—ç›´è¦ºå¤§æ­¥é‚é€²ã€‚", items: ["â¤ï¸ å…¨é–‹ï¼Œæ­£ç·£å‡ºç¾æ©Ÿç‡æ¥µé«˜ã€‚", "ğŸ’° çœ¼å…‰ç²¾æº–ï¼Œæœ‰æ„å¤–å›å ±ã€‚", "â˜˜ï¸ ç•¶é ­ï¼Œæƒ³åšçš„äº‹éƒ½æœ‰è²´äººåŠ©ã€‚", "âœˆï¸ é©åˆé è¡Œï¼Œæœƒåœ¨æ—…é€”æ”¶ç©«éˆæ„Ÿã€‚", "ğŸ’¼ åŸ·è¡ŒåŠ›çˆ†è¡¨ï¼Œå±•ç¾é ˜å°åŠ›ã€‚"] },
        { id: 2, star: 3, type: "ä¸­å‰", intro: "ç›®å‰ç’°å¢ƒå‹å–„ä¸”æ”¯æŒä½ çš„æ±ºå®šã€‚å»ºè­°ç¶­æŒç©©å®šçš„æ­¥èª¿ï¼Œä¸å¿…æ€¥æ–¼æ±‚æˆã€‚", items: ["â¤ï¸ ç©©å®šçš„é™ªä¼´æ˜¯æœ€æº«æš–çš„æ–¹å¼ã€‚", "ğŸ’° æ­£åœ¨ç©©å¥å¢é•·ï¼Œé©åˆé•·æœŸæŒæœ‰ã€‚", "â˜˜ï¸ ç”Ÿæ´»è™•è™•å°ç¢ºå¹¸ï¼Œå®¹æ˜“ä¸­çã€‚", "âœˆï¸ é©åˆå¹³å®‰è¡Œç¨‹ï¼Œäº«å—æ…¢æ´»ç¯€å¥ã€‚", "ğŸ’¼ æ ¹åŸºç´®å¯¦ï¼Œè´å¾—åœ˜éšŠä¿¡ä»»ã€‚"] },
        { id: 3, star: 2, type: "å°å‰", intro: "æ­£è™•æ–¼ç©ç´¯èƒ½é‡çš„éšæ®µã€‚å»ºè­°çµ¦è‡ªå·±ä¸€é»ç•™ç™½æ™‚é–“ï¼Œéœå¾…æ™‚æ©Ÿæˆç†Ÿã€‚", items: ["â¤ï¸ ç·£åˆ†æ€¥ä¸ä¾†ï¼Œæ‰“ç†å¥½è‡ªå·±æœ€é‡è¦ã€‚", "ğŸ’° é©åˆä¿å®ˆç†è²¡ï¼Œå›ºå®ˆè³‡é‡‘æµã€‚", "â˜˜ï¸ é‹æ°£æ­£åœ¨æ’éšŠï¼Œè«‹å¹³å¸¸å¿ƒç­‰å¾…ã€‚", "âœˆï¸ ä¸å®œé è¡Œï¼Œé©åˆåœ¨å®¶æ·±åº¦ä¼‘æ¯ã€‚", "ğŸ’¼ è“„å‹¢å¾…ç™¼ï¼Œæ²ˆé»˜æ˜¯ç‚ºäº†çˆ†ç™¼ã€‚"] },
        { id: 4, star: 2, type: "å°å‰", intro: "æ­£ç«™åœ¨è®Šé©çš„äº¤å‰è·¯å£ã€‚å»ºè­°æ”¾ä¸‹èˆŠæœ‰çš„æ€ç¶­ï¼Œç”¨é–‹æ”¾å¿ƒæ…‹è¿æ¥ã€‚", items: ["â¤ï¸ æ›å€‹äº¤å‹åœˆï¼Œæœƒé‡åˆ°é©šè‰·å¥‡ç·£ã€‚", "ğŸ’° å‡ºç¾è½‰æ©Ÿï¼Œæœ‰æ©Ÿæœƒè½‰è™§ç‚ºç›ˆã€‚", "â˜˜ï¸ é€¢å‡¶åŒ–å‰ï¼Œé—œéµæ™‚åˆ»ç¸½èƒ½éé—œã€‚", "âœˆï¸ éš¨èˆˆçš„æ—…ç¨‹æœƒå¸¶çµ¦ä½ é©šå–œã€‚", "ğŸ’¼ è½‰æ›è¦–è§’ï¼Œé›£é—œç«‹åˆ»è®Šæˆæ©Ÿæœƒã€‚"] },
        { id: 5, star: 3, type: "ä¸­å‰", intro: "é©åˆåœ˜éšŠåˆä½œè€Œéå–®æ‰“ç¨é¬¥ã€‚ä¸»å‹•ä¼¸å‡ºå‹èª¼ä¹‹æ‰‹ï¼Œé€éåˆ†äº«é”æˆç›®æ¨™ã€‚", items: ["â¤ï¸ çœŸèª çš„å‘Šç™½èˆ‡æ‰¿è«¾ï¼Œåœ¨æ­¤åˆ»æœ€å‹•äººã€‚", "ğŸ’° é€éç•°æ¥­åˆä½œèƒ½åˆ†åˆ°å¤§åˆ©æ½¤ã€‚", "â˜˜ï¸ è²´äººå¤šåœ¨ç¤¾äº¤å ´åˆï¼Œè«‹å¤šéœ²é¢ã€‚", "âœˆï¸ èˆ‡åˆé©å¤¥ä¼´åŒéŠï¼Œæ¨‚è¶£æœƒç¿»å€ã€‚", "ğŸ’¼ è³‡æºæ•´åˆèƒ½åŠ›æ˜¯è·å ´æ‰€å‘é¡æ­¦å™¨ã€‚"] },
        { id: 6, star: 4, type: "å¤§å‰", intro: "æ­£èµ°åœ¨å°çš„é“è·¯ä¸Šï¼Œå‘¨é­å……æ»¿åŠ©åŠ›ã€‚å»ºè­°ä¿æŒè¬™è™›ï¼Œè®“è‰¯æ€§å¾ªç’°æŒçºŒã€‚", items: ["â¤ï¸ ç”Ÿæ´»ç”œèœœå¦‚æ„ï¼Œå½¼æ­¤éƒ½æ„Ÿåˆ°å®‰å¿ƒã€‚", "ğŸ’° è²¡æºå»£é€²ï¼ŒæŠ•è³‡éƒ½é–‹èŠ±çµæœã€‚", "â˜˜ï¸ ç¦æ˜Ÿé«˜ç…§ï¼Œåˆ°å“ªè£¡éƒ½æœ‰äººçµ¦æ–¹ä¾¿ã€‚", "âœˆï¸ æ—…é€”ç¾æ™¯èˆ‡éš›é‡å°‡æˆç‚ºçè²´å›æ†¶ã€‚", "ğŸ’¼ å‹¢å¦‚ç ´ç«¹ï¼Œé€²å±•æ¥µå…¶é †åˆ©ã€‚"] },
        { id: 7, star: 1, type: "å‰", intro: "ç´›é›œçš„è¨Šæ¯è¼ƒå¤šï¼Œè®“ä½ ç¨æ„Ÿå›°æƒ‘ã€‚å»ºè­°æš«æ™‚é€€å¾Œä¸€æ­¥ï¼Œæ¢³ç†å„ªå…ˆé †åºã€‚", items: ["â¤ï¸ éœ€è¦æ·±åº¦æºé€šï¼Œæ‰èƒ½åŒ–è§£çŒœç–‘ã€‚", "ğŸ’° æ”¯å‡ºè«‹ä¿æŒè¬¹æ…ï¼Œé¿å…è¡å‹•è³¼ç‰©ã€‚", "â˜˜ï¸ éˆå…‰é–ƒç¾ç¬é–“ï¼Œå°±æ˜¯è½‰é‹é–‹å§‹ã€‚", "âœˆï¸ å‡ºè¡Œæ³¨æ„å®‰å…¨ï¼Œä¸¦é ç•™å‚™æ¡ˆã€‚", "ğŸ’¼ å°ˆæ³¨è™•ç†æ ¸å¿ƒæ¥­å‹™ã€‚"] },
        { id: 8, star: 2, type: "å°å‰", intro: "æ­£è™•æ–¼æ‰“åœ°åŸºçš„é—œéµæœŸã€‚å»ºè­°ç¶­æŒç¾æœ‰çš„éŸŒæ€§ï¼Œå°æ­¥å¿«è·‘åœ°ç©©å®šæˆé•·ã€‚", items: ["â¤ï¸ æ…¢ç«ç†¬ç…®çš„æ„Ÿæƒ…ï¼Œæ¯”é€Ÿé£Ÿæ›´æŒä¹…ã€‚", "ğŸ’° èšæ²™æˆå¡”ï¼Œæ¯ä¸€åˆ†éƒ½æ˜¯é‡‘ç¤¦ã€‚", "â˜˜ï¸ ä½ çš„å‹¤å¥®å°‡æ›ä¾†ä¸€ä»½ç‰¹åˆ¥å¥½é‹ã€‚", "âœˆï¸ é©åˆå‹å‹•å‹æ—…è¡Œï¼Œå¼·å¥é«”é­„ã€‚", "ğŸ’¼ æ­¥æ­¥ç‚ºç‡Ÿï¼Œå°ˆæ¥­åº¦è®“å°æ‰‹æ•¬ä½©ã€‚"] },
        { id: 9, star: 4, type: "å¤§å‰", intro: "æ­£è¿ä¾†ä¸€æ®µæ”¶ç©«çš„é«˜å³°æœŸã€‚å»ºè­°æ”¾é¬†å¿ƒæƒ…å»æ„Ÿå—æˆå°±ï¼Œä¸¦èˆ‡ä»–äººå…±äº«ã€‚", items: ["â¤ï¸ åœ“æ»¿æ™‚åˆ»ï¼Œé©åˆè«‡è«–çµ‚èº«å¤§äº‹ã€‚", "ğŸ’° è²¡é‹äº¨é€šï¼Œæœ‰é»çŸ³æˆé‡‘æ‰‹æ„Ÿã€‚", "â˜˜ï¸ é©šå–œé€£é€£ï¼Œå……æ»¿é–‹å¿ƒçš„å¥½æ¶ˆæ¯ã€‚", "âœˆï¸ ç›¡èˆˆè€Œæ­¸ï¼Œä¸€æ¬¡å®Œç¾çš„ç››å®´ã€‚", "ğŸ’¼ åŠŸæˆåå°±ï¼Œåœ°ä½å·²ç¢ºç«‹ã€‚"] },
        { id: 10, star: 1, type: "å‰", intro: "é©åˆæª¢è¦–éå¾€ã€ä¿®æ­£åå·®çš„æ™‚æ©Ÿã€‚å»ºè­°ç¨å¾®æ”¾æ…¢ç¯€å¥ï¼ŒæŠŠèƒ½é‡èšç„¦ã€‚", items: ["â¤ï¸ æª¢è¦–å½¼æ­¤é—œä¿‚ï¼Œèª¿æ•´äº’å‹•é »ç‡ã€‚", "ğŸ’° é‡æ–°é…ç½®ç†è²¡ï¼Œæ‰¾å‡ºæ½›åœ¨é¢¨éšªã€‚", "â˜˜ï¸ é¿é–‹é‹’èŠ’ç´›çˆ­ï¼Œå°±æ˜¯æœ€å¥½è½‰é‹ã€‚", "âœˆï¸ é©åˆçŸ­é€”å°æ†©ï¼Œè®“èº«å¿ƒå¿«é€Ÿå……é›»ã€‚", "ğŸ’¼ å„ªåŒ–æ¶æ§‹ï¼Œå°‡ç¹ç‘£æµç¨‹é‡ç½®ã€‚"] }
    ];
    let lastResult = "";
    function shareToLine() {
        const shareText = `ğŸ§§ 2026 é‹å‹¢æ­æ›‰ï¼æˆ‘å‰›æŠ½åˆ°äº†ã€Œ${lastResult}ã€ç±¤ï¼\nä½ ä¹Ÿå¿«ä¾†æŠ½ä¸€å¼µä½ çš„é–‹é‹ç±¤è©©å§ï¼\nğŸ‘‰ ${window.location.href.split('?')[0]}`;
        const lineUrl = `https://line.me/R/msg/text/?${encodeURIComponent(shareText)}`;
        window.location.href = lineUrl;
    }
    function resetUIAndRedraw() {
        const afterGroup = document.getElementById('after-draw-group');
        afterGroup.classList.remove('show');
        document.getElementById('scroll').classList.remove('active');
        document.getElementById('win-banner').classList.remove('show');
        document.getElementById('main-title').style.opacity = "1";
        document.getElementById('reward-text').style.opacity = "0.8";
        document.getElementById('cat-actor').classList.remove('fade');
        document.getElementById('res-stars').innerHTML = "";
        document.querySelectorAll('.fade-in').forEach(el => el.classList.remove('visible'));
        document.getElementById('res-details').innerHTML = "";
        afterGroup.classList.remove('single-btn');
        setTimeout(() => { startDrawing(); }, 200);
    }
    async function startDrawing() {
        const initBtn = document.getElementById('init-draw-btn');
        const afterGroup = document.getElementById('after-draw-group');
        const cat = document.getElementById('cat-actor');
        const scroll = document.getElementById('scroll');
        const hint = document.getElementById('loading-hint');
        const fHint = document.getElementById('footer-hint-text');
        initBtn.classList.add('hidden');
        hint.style.opacity = "1"; hint.classList.add('pulse-text');
        cat.classList.add('shaking');
        fHint.style.opacity = "0";
        const pick = fortuneData[Math.floor(Math.random() * fortuneData.length)]; 
        lastResult = pick.type;
        await new Promise(r => setTimeout(r, 3000));
        cat.classList.remove('shaking');
        cat.classList.add('fade');
        hint.style.opacity = "0"; hint.classList.remove('pulse-text');
        document.getElementById('res-type').innerText = pick.type;
        document.getElementById('res-intro').innerText = pick.intro;
        const high = ["è¶…å¤§å‰", "å¤§å‰", "ä¸­å‰"];
        if (!high.includes(pick.type)) { afterGroup.classList.add('single-btn'); }
        else { afterGroup.classList.remove('single-btn'); }
        scroll.classList.add('active');
        await new Promise(r => setTimeout(r, 600)); 
        const sCont = document.getElementById('res-stars');
        for (let i = 0; i < pick.star; i++) {
            const span = document.createElement('span'); span.innerText = "â˜…";
            sCont.appendChild(span);
            setTimeout(() => span.classList.add('pop'), 50);
            await new Promise(r => setTimeout(r, 400)); 
        }
        document.querySelectorAll('.fade-in').forEach(el => el.classList.add('visible'));
        await new Promise(r => setTimeout(r, 600));
        const dCont = document.getElementById('res-details');
        for (let i = 0; i < pick.items.length; i++) {
            const li = document.createElement('li'); li.innerText = pick.items[i];
            dCont.appendChild(li);
            setTimeout(() => li.classList.add('reveal'), 50);
            await new Promise(r => setTimeout(r, 300));
        }
        if (pick.type === "è¶…å¤§å‰") {
            document.getElementById('main-title').style.opacity = "0"; 
            document.getElementById('reward-text').style.opacity = "0"; 
            document.getElementById('win-banner').classList.add('show');
            fHint.innerText = "è«‹æˆªåœ–è‡³ç²‰çµ²åœ˜æ›å–çå‹µ"; fHint.style.opacity = "1";
        }
        afterGroup.classList.add('show');
    }
</script>
</body>
</html>