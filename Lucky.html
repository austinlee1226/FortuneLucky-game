<style>
    /* 這裡加入新按鈕的座標設定，與 redraw 相同 */
    #btn-copy, #btn-reward { 
        left: 233px; top: 1158px; width: 262px; height: 76px; z-index: 220; 
        transform: translate(-50%, -50%); 
    }
</style>

<div id="game-stage">
    <img id="btn-draw" class="layer interactive btn-active" src="assets/btn_draw.webp" onclick="handleStartDraw()">
    
    <img id="btn-redraw" class="layer interactive btn-active hidden" src="assets/btn_redraw.webp" onclick="handleReset()">
    <img id="btn-copy" class="layer interactive btn-active hidden" src="assets/btn_copy.webp" onclick="handleCopyClick()">
    <img id="btn-reward" class="layer interactive btn-active hidden" src="assets/btn_get_reward.webp" onclick="handleRewardClick()">
    
    <img id="btn-share" class="layer interactive btn-active hidden" src="assets/btn_share.webp" onclick="handleShare()">
</div>

<script>
    /* ... fetchData, resize 等函式維持原樣 ... */

    function showResult() {
        const catImg = document.getElementById('char-cat');
        catImg.classList.remove('shaking');
        catImg.classList.add('breathing');
        
        // Debug 與 隨機邏輯
        const forceType = document.getElementById('debug-force-type').value;
        if (forceType !== "none") {
            const filtered = fortuneSheetData.filter(d => d.type.trim() === forceType);
            currentResult = filtered.length > 0 ? filtered[Math.floor(Math.random() * filtered.length)] : fortuneSheetData[Math.floor(Math.random() * fortuneSheetData.length)];
        } else {
            currentResult = fortuneSheetData[Math.floor(Math.random() * fortuneSheetData.length)];
        }
        
        const typeImg = document.getElementById('res-type-img');
        typeImg.src = `assets/${typeFileMap[currentResult.type.trim()] || "gold"}.webp`;

        // 更新文字內容
        document.getElementById('res-destiny').innerText = currentResult.destiny;
        document.getElementById('res-career').innerText = currentResult.career;
        document.getElementById('res-love').innerText = currentResult.love;

        // 顯示捲軸
        document.getElementById('scroll-container').classList.add('active');
        
        // --- 核心修改：超金運按鈕邏輯 ---
        const isSuperGold = currentResult.type.trim() === "超金運";
        
        setTimeout(() => { 
            typeImg.classList.add('show'); 
            document.getElementById('btn-share').classList.remove('hidden');
            
            if (isSuperGold) {
                // 如果是超金運，顯示複製按鈕，隱藏重抽按鈕
                document.getElementById('btn-copy').classList.remove('hidden');
                document.getElementById('btn-redraw').classList.add('hidden');
                document.getElementById('btn-reward').classList.add('hidden');
            } else {
                // 普通結果，顯示重抽按鈕，隱藏複製與領獎
                document.getElementById('btn-redraw').classList.remove('hidden');
                document.getElementById('btn-copy').classList.add('hidden');
                document.getElementById('btn-reward').classList.add('hidden');
            }
        }, 800);
    }

    // 按下複製按鈕後的動作
    function handleCopyClick() {
        console.log("觸發複製動作");
        // 先執行變換動作：隱藏自己，顯示領獎按鈕
        document.getElementById('btn-copy').classList.add('hidden');
        document.getElementById('btn-reward').classList.remove('hidden');
        
        // 這裡預留複製序號的空間，目前先不寫 code
    }

    // 按下領獎按鈕後的動作
    function handleRewardClick() {
        console.log("觸發領獎跳轉");
        // 這裡預留 Line OA 跳轉空間，目前先不寫 code
    }

    function handleReset() {
        // 重設時要隱藏所有結果按鈕
        document.getElementById('btn-redraw').classList.add('hidden');
        document.getElementById('btn-copy').classList.add('hidden');
        document.getElementById('btn-reward').classList.add('hidden');
        document.getElementById('btn-share').classList.add('hidden');
        document.getElementById('scroll-container').classList.remove('active');
        document.getElementById('res-type-img').classList.remove('show');
        setTimeout(() => { startDrawingProcess(); }, 400); 
    }

    /* ... handleShare 等其餘函式維持原樣 ... */
</script>